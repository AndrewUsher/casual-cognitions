{"componentChunkName":"component---src-templates-blog-post-js","path":"/monorepos-in-js/","webpackCompilationHash":"115c318475c32b7c029a","result":{"data":{"site":{"siteMetadata":{"title":"Casual Cognitions","author":"Andrew Usher"}},"mdx":{"frontmatter":{"title":"JavaScript Monorepos","date":"November 06, 2018"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"JavaScript Monorepos\",\n  \"date\": \"2018-11-06T23:46:37.121Z\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Splitting a large, monolithic codebase into small, encapsulated modules is usually good practice from an architectural perspective. Modularization is useful for everything from microservices to libraries of reusable components. However, it can also be a nightmare from a publishing and source code management perspective.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Discovery\"), \"\\xA0goes downhill when there are dozens or hundreds of code repositories. When new repositories are created, everyone has to add their existence to their mental model of where code lives.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Access control\"), \"\\xA0becomes tedious and error prone, especially when access is granted to repositories one at a time on a \\u201Cneed to know\\u201D basis. New employees tend to go through an endless loop of dependency hell. Each access request simply reveals two more repositories they need to access as well.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Versioning\"), \"\\xA0is also complicated by a highly modular architecture. It often makes sense to \\u201Csnapshot\\u201D a collection of related modules by incrementing their version in lockstep (this is what Babel and React do, for example). However, asking humans to remember to do this across a large collection of packages (including packages they haven\\u2019t had to touch) is asking for trouble.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Duplication\"), \"\\xA0of dependencies between packages can vastly increase the time required to install dependencies. Some ecosystems, npm in particular, are highly modular. This encourages reuse but also means that some packages are likely duplicated in every package you develop.\")), mdx(\"p\", null, \"Monorepos are a popular solution to this problem. Instead of one code repository per module, you put all modules in the same code repository. This \\u201Cmonorepo\\u201D is then the only thing a developer needs in order to do development with your application. Discovery, access control, and versioning are all simpler by virtue of everything being in the same place.\"), mdx(\"p\", null, \"Obviously, you have to be okay with granting access to all of the code or none of the code. But if this is acceptable, monorepos can give you all the benefits of modularization with very straightforward source code management.\"), mdx(\"p\", null, \"So how do monorepos work with npm? The two most popular solutions are Yarn workspaces and lerna. Since lerna works with npm, let\\u2019s take a look at how it implements monorepos.\"), mdx(\"p\", null, \"First, let\\u2019s install lerna globally.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"npm i -g lerna\\n\")), mdx(\"p\", null, \"Next, create new lerna repository:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"mkdir monorepo_example\\ncd monorepo_example\\nlerna init\\n\")), mdx(\"p\", null, \"If you look at the contents of lerna.json, you can see where the version and packages are defined.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"cat lerna.json\\n\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  \\\"packages\\\": [\\\"packages/*\\\"],\\n  \\\"version\\\": \\\"0.0.0\\\"\\n}\\n\")), mdx(\"p\", null, \"As seen above, the version for all of the packages in our monorepo is 0.0.0. However, there aren\\u2019t any packages in our monorepo yet. Before we add them, we should login to our registry so lerna sets the publishConfig correctly on each new package.\"), mdx(\"p\", null, \"If you\\u2019re publishing somewhere other than the public npm registry (for example, npm Enterprise), you\\u2019ll first need to set your registry.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"npm config set registry https://registry.npm.yourcompany.com\\n\")), mdx(\"p\", null, \"Next, we authenticate to the registry with a user that has publish permissions. If your packages won\\u2019t have a scope, you can omit the \\u2013scope flag.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"npm login \\u2013scope test\\n\")), mdx(\"p\", null, \"We now add a few scoped packages to our monorepo.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"lerna create @test/a\\nlerna create @test/b\\nlerna create @test/c\\n\")), mdx(\"p\", null, \"If you chose the default settings for each package, you\\u2019ll now have three packages (a, b, c) in the test scope with version 0.0.0. Before we can increment the version, we need to commit what we\\u2019ve got so far and create a remote for git:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"git add .\\ngit commit -m \\u201CInitial commit\\u201D\\ngit remote add origin git@github.com:username/reponame.git\\ngit push -u origin master\\n\")), mdx(\"p\", null, \"Now we can bump the version of all packages with one command.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"lerna version major\\n\")), mdx(\"p\", null, \"This command not only bumps every package to 1.0.0, but also pushes the version update to git for you. The last step is to publish these packages to npm. Lerna lets us do this with a single command.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"lerna publish from-git\\n\")), mdx(\"p\", null, \"If this command succeeded, you\\u2019ve successfully published all packages in your first monorepo to npm. Hooray!\"), mdx(\"p\", null, \"In summary, we:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Created a new monorepo with Lerna.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Added three new scoped packages to our monorepo.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Bumped the version of all packages and committed to git with a single command.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Published all packages to an npm registry with a single command.\")), mdx(\"p\", null, \"For more on Lerna, including their solution to the duplication problem (hoisting), I recommend \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://lerna.js.org\"\n  }), \"their excellent docs\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/monorepos-in-js/","previous":{"id":"40c888ba-2be2-5f56-8a5a-d2cfe5c244e3","fields":{"slug":"/why-monolith-web-revamps-fail/"},"frontmatter":{"title":"Why Monolith Web Revamps Fail"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Why Monolith Web Revamps Fail\",\n  \"date\": \"2018-10-21\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Go into any pitch or brief for a website project and I\\u2019m fairly certain the word \\u201CResponsive\\u201D will be sprinkled liberally all throughout every conversation during the session. Whether or not everyone in the room fully understands what that word entails, is another thing altogether. But the matter of fact is, with access to the web becoming increasingly ubiquitous on an infinitely wide range of devices, responsive web design is here to stay. I personally can\\u2019t even remember the last time I built a non-responsive site.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"A website redesign project is a software development project\"), \". Companies and agencies who cannot understand this or lack the expertise to handle such projects tend to find themselves in a world of trouble as the project goes on. I\\u2019m sure we\\u2019ve all heard the adage \\u201CYou never get a second chance to make a first impression\\u201D. In most agencies, the sales and marketing departments are the ones making that first impression with the client. When there is a disconnect between the marketing department and the people who create the work, everybody involved will be in for a hard time.\"), mdx(\"p\", null, \"There are a number of indicators that a website revamp will end up becoming a fire-fight, or even worse, fail altogether.\"), mdx(\"h3\", null, \"No Clear Digital Strategy\"), mdx(\"p\", null, \"Simply having a website or an app or two does not mean you\\u2019ve \\u201Cgone digital\\u201D. Your website is a tool to facilitate the digital experience, but a digital transformation is really much more than that. I highly recommend everyone who is involved in digital to read and internalise \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.digital-adaptation.com\"\n  }), \"Paul Boag\\u2019s Digital Adaptation\"), \".\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"By forming a digital strategy you have an opportunity to establish a firm direction for your online footprint, rather than being the victim of managerial whims. - Paul Boag\")), mdx(\"p\", null, \"The decision to implement a responsive website is a solution. But what we need to ask is, was the problem properly defined and does this solution solve it? Without a clear digital strategy, we have no basis on which to make decisions on what the appropriate solutions should be. This is why it is important for senior management to be fully aware and supportive of the organisation\\u2019s digital strategy.\"), mdx(\"p\", null, \"All parties involved need to understand that the web is nothing like any other medium. The web is evolving at a neck-breaking pace, it is unpredictable, bordering on chaotic at times. We cannot hope to predict, control and manage this every-changing landscape. It is untenable to apply traditional business strategies, which operate on the premise that you can plan and budget for the next five years, to the web.\"), mdx(\"h3\", null, \"Insufficient Experience and Expertise\"), mdx(\"p\", null, \"This is why it is crucial to have an experienced team well-equipped to traverse this landscape. The emphasis here is on team and close collaboration across various disciplines. The traditional waterfall approach of having specialists operating in silo and passing on the project from one phase to the next is no longer effective nor relevant.\"), mdx(\"p\", null, \"For an agency who wishes to undertake such projects, it is mandatory that every person involved has strong digital backgrounds. It is not enough to simply understand the digital landscape yourself. To provide direction on how to navigate a landscape that is in a constant state of flux. Working together with the client to come up with the best approach for solving their business problems.\"), mdx(\"p\", null, \"A responsive website is just one way to cater for mobile consumers. Depending on the nature of the business and the organisation\\u2019s business strategy and objectives, maybe a native application is a better solution. There is no clear cut answer to which is better. The trick is to assess the needs of the business, then choose the solution with the best fit. Context is everything. \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"The problem must be framed in the context of the organisation in question\"), \".\"), mdx(\"p\", null, \"It takes expertise and experience from the digital team to not only come up with the most appropriate solution, but also, clearly articulate to senior management and relevant stakeholders why the solution was proposed, and how it can benefit the business.\"), mdx(\"h3\", null, \"Mismanagement of Expectations\"), mdx(\"p\", null, \"Without the aforementioned experience and expertise in handling responsive web projects, it is inevitable that the estimation of effort required will be terribly off the mark. The web is a reasonably young medium, and there is nothing quite like it. Stakeholders and management, who are not familiar with digital and the web, will not be able to gauge the complexity of the project. The onus thus falls on the digital team, be it internal or external, to flag out the high risk areas, and cater for worst-case scenarios accordingly.\"), mdx(\"p\", null, \"Client or stakeholder education is of utmost importance at the beginning of the project. This is where expectations are set and impressions are made. The digital team is put in charge of the endeavour because they are supposed to be the experts in this field, and can provide the necessary guidance and direction to move the project forward. Stakeholders need to understand that there will be some unknowns that will only be unearthed once development actually begins.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"It is impossible to educate another about something you do not fully understand\"), \". When the digital team lacks the requisite skills and experience, resulting in stakeholders with unrealistic expectations, the project will undoubtedly end up being a fire-fight or worse, fail altogether. A poorly scoped project, based on estimates given by someone who has no hands-on experience with the actual work required, is often a recipe for disaster.\"), mdx(\"h3\", null, \"Lack of Transparency and Communication\"), mdx(\"p\", null, \"A responsive design is more than just displaying content nicely on different screen widths. A successful responsive design is heavily dependent on content, performance and user experience. All three are intertwined, which means that the content strategists, the UX researchers, designers and developers must all be on the same page. It has to be a collaboration across disciplines.\"), mdx(\"p\", null, \"User research will drive the content and direction of the project, that in turn shapes the design, which impacts the architecture and development. Because every role brings something different to the table, communication is key. Developers understand the web more deeply than anyone else, and will be able to provide feedback on the feasibility and implications of certain design decisions. Designers will use their expertise to present the content in a way that best fits each use case. But the key thing here is, communication must take place throughout the process.\"), mdx(\"p\", null, \"The digital team are not only domain experts, but they have to be able to explain what they do and why they do it in terms that clients and stakeholders can understand. \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"In other words, they also have to be professional communicators.\"), \" Without the proper buy-in from key decision makers, there is a high risk of the project collapsing like a house of cards.\"), mdx(\"p\", null, \"There will inevitably be bumps in the process or issues that the team did not expect. We cannot hide these challenges from stakeholders and pretend everything is peachy. The team needs to be up front about any issues, why they came about and explain how the issues will be mitigated. By involving the stakeholders in the mitigation plan, they might provide valuable insight that contribute to solving the issue. Perhaps that feature did not have to built that way in the first place.\"), mdx(\"h3\", null, \"Building With Sub-Optimal Processes\"), mdx(\"p\", null, \"The meat of the project is the actual building of the website. \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Every website revamp must be built on clearly documented functional requirements\"), \". Some may argue that this is a relic from IT projects of the past that utilise a very water-fall approach, but I disagree. Functional requirements can take the form of user stories. This portion of the planning involves the digital team working very closely with the stakeholders to fully understand the nature and objectives of the business. The digital team\\u2019s expertise comes into play when it comes to articulating those objectives into user stories that will form the backbone of the project.\"), mdx(\"p\", null, \"From a design standpoint, a style-guide driven approach would allow for consistency throughout the site, as well as facilitate a more efficient front-end build. CSS architecture is especially important, but often overlooked. The challenge with CSS is that it is easy enough for most people to pick up, but takes effort and experience to architect well. The larger the project, the more critical it is to have working agreements on name-spacing, coding-style, file structure and a proper deployment process. Of course, this also applies to code of all languages that will be used in the project.\"), mdx(\"p\", null, \"Building up a style guide of components early allows any inconsistencies in the design to be flushed out and discussed early. I\\u2019ve worked with high-fidelity comps provided by designers that had up to 7 or 8 shades of yellow. But upon clarification with the designer, it turns out that the client had asked her to make modifications so many times that she simply missed out updating all the relevant components. But if we had instead worked on low-fidelity static comps and translated them into HTML and CSS early, things like updating colour schemes would take much less time than if a designer had to change the colours in their static PSD files.\"));\n}\n;\nMDXContent.isMDXComponent = true;"},"next":{"id":"832d7330-2e4c-51e5-9a8e-119be7370057","fields":{"slug":"/api-security-checklist/"},"frontmatter":{"title":"API Security Checklist"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"API Security Checklist\",\n  \"date\": \"2018-11-20\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, \"Authentication\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Don\\u2019t use \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Basic Auth\"), \". Use standard authentication (e.g. \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://jwt.io/\"\n  }), \"JWT\"), \", \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://oauth.net/\"\n  }), \"OAuth\"), \")\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Don\\u2019t reinvent the wheel in \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Authentication\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"token generation\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"password storage\"), \". Use the standards\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Max Retry\"), \" and jail features in Login\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use encryption on all sensitive data\")), mdx(\"h3\", null, \"JWT (JSON Web Token)\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use a random complicated key (\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"JWT Secret\"), \") to make brute forcing the token very hard.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Don\\u2019t extract the algorithm from the payload. Force the algorithm in the backend (\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"HS256\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"RS256\"), \").\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Make token expiration (\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"TTL\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"RTTL\"), \") as short as possible.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Don\\u2019t store sensitive data in the JWT payload, it can be decoded \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://jwt.io/#debugger-io\"\n  }), \"easily\"), \".\")), mdx(\"h3\", null, \"OAuth\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Always validate \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"redirect_uri\"), \" server-side to allow only whitelisted URLs.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Always try to exchange for code and not tokens (don\\u2019t allow \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"response_type=token\"), \").\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"state\"), \" parameter with a random hash to prevent CSRF on the OAuth authentication process.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Define the default scope, and validate scope parameters for each application.\")), mdx(\"h2\", null, \"Access\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Limit requests (Throttling) to avoid DDoS / brute-force attacks.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use HTTPS on server side to avoid MITM (Man in the Middle Attack).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"HSTS\"), \" header with SSL to avoid SSL Strip attack.\")), mdx(\"h2\", null, \"Input\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use the proper HTTP method according to the operation: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"GET (read)\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"POST (create)\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"PUT/PATCH (replace/update)\"), \", and \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"DELETE (to delete a record)\"), \", and respond with \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"405 Method Not Allowed\"), \" if the requested method isn\\u2019t appropriate for the requested resource\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Validate \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"content-type\"), \" on request Accept header (Content Negotiation) to allow only your supported format (e.g. \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"application/xml\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"application/json\"), \", etc.) and respond with \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"406 Not Acceptable\"), \" response if not matched\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Validate \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"content-type\"), \" of posted data as you accept (e.g. \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"application/x-www-form-urlencoded\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"multipart/form-data\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"application/json\"), \", etc.)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Validate user input to avoid common vulnerabilities (e.g. \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"XSS\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"SQL-Injection\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Remote Code Execution\"), \", etc.).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Don\\u2019t use any sensitive data (\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"credentials\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Passwords\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"security tokens\"), \", or \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"API keys\"), \") in the URL, but use standard Authorization header\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use an API Gateway service to enable caching, Rate Limit policies (e.g. \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Quota\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Spike Arrest\"), \", or \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Concurrent Rate Limit\"), \") and deploy APIs resources dynamically\")), mdx(\"h2\", null, \"Processing\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Check if all the endpoints are protected behind authentication to avoid broken authentication process\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"User own resource ID should be avoided. Use \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"/me/orders\"), \" instead of \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"/user/654321/orders\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Don\\u2019t auto-increment IDs. Use \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"UUID\"), \" instead\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If you are parsing XML files, make sure entity parsing is not enabled to avoid \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"XXE\"), \" (XML external entity attack)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If you are parsing XML files, make sure entity expansion is not enabled to avoid \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Billion Laughs/XML bomb\"), \" via exponential entity expansion attack\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use a CDN for file uploads\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If you are dealing with huge amount of data, use Workers and Queues to process as much as possible in background and return response fast to avoid HTTP Blocking\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Do not forget to turn the DEBUG mode OFF\")), mdx(\"h2\", null, \"Output\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Send \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"X-Content-Type-Options: nosniff\"), \" header.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Send \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"X-Frame-Options: deny\"), \" header.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Send \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Content-Security-Policy: default-src 'none'\"), \" header.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Remove fingerprinting headers - \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"X-Powered-By\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Server\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"X-AspNet-Version\"), \", etc.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Force \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"content-type\"), \" for your response, if you return \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"application/json\"), \" then your response \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"content-type\"), \" is \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"application/json\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Don\\u2019t return sensitive data like \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"credentials\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Passwords\"), \", or \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"security tokens\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Return the proper status code according to the operation completed. (e.g. \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"200 OK\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"400 Bad Request\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"401 Unauthorized\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"405 Method Not Allowed\"), \", etc.).\")), mdx(\"h2\", null, \"CI & CD\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Audit your design and implementation with unit/integration tests coverage\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use a code review process and disregard self-approval\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Ensure that all components of your services are statically scanned by AV software before pushing to production, including vendor libraries and other dependencies\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Design a rollback solution for deployments\")));\n}\n;\nMDXContent.isMDXComponent = true;"}}}}